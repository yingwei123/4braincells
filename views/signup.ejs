<html>
    <label>Email : </label>
    <input id = "email" required/>
    <br>
    <label>Password : </label>
    <input id = "password" required/>
    <br>
    <label>Confirm Password : </label>
    <input id = "confirmpassword" required/>
    <br>
    <div id = "incorrect"></div>
    <button onclick = "signup()">Sign up</button>
</html>
<script>
   function signup(){
        email = document.getElementById("email").value
        password = document.getElementById("password").value
        cpassword = document.getElementById("confirmpassword").value
       

        if(password != cpassword){
            document.getElementById("incorrect").innerHTML="Passwords don't match"
        }else{
            fetch('/signup', {
                method: 'POST', 
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({email:email, password:password,cpassword:cpassword}),
                })
                .then(response => response.status)
                .then(data => {
                    
                    if(data == 400){
                        alert("Failed to create user")
                    }
                    else{
                        window.location = "/signin"
                    }
                })
                .catch((error) => {
                console.error('Error:', error);
                });
         }
    }
</script>